{% extends "base.html" %}

{% block styles %} 
<link rel="stylesheet" href="{{ url_for("static", filename = "css/content/challenge.css") }}">
{% endblock %}

{% block title %} {{ challenge.titulo }} {% endblock %}

{% block content %}
<div class="container" data-topic="{{ topic }}">
    <div class="challenge" data-challenge="{{ challenge.reto_Id }}">
        {% if is_author %}
        <div class="options">
            <button type="button" id="editar">Editar</button>
            <button type="button" id="eliminar">Eliminar</button>
        </div>
        {% endif %}
        <div class="challenge-created">
            <p class="author">Autor: {{ challenge.author }}</p>
            <p class="date">Fecha: {{ challenge.created_at.strftime('%Y-%m-%d') }}</p>
            <p class="difficult">Dificultad: {{ challenge.dificultad }}</p>
        </div>
        <h4>{{ challenge.titulo }}</h4>
        <p class="descripcion">{{ challenge.descripcion }}</p>
    </div>
</div>

<div class="launch-challenge-container">
    <i class="fa-solid fa-x close-icon"></i>
    <form class="launch-challenge">
        <div class="input-container">
            <label for="titulo">Título</label>
            <input type="text" name="titulo" id="titulo" value="{{ challenge.titulo }}" data-titulo="{{ challenge.titulo }}">
        </div>
        <div class="input-container">
            <label for="descripcion">Descripción</label>
            <textarea name="descripcion" class="descripcion" id="descripcion" data-descripcion="{{ challenge.descripcion }}">{{ challenge.descripcion }}</textarea>
        </div>
        <div class="input-container">
            <label for="difucultad">Dificultad</label>
            <select name="dificultad" id="lv-dificultad" data-dificultad="{{ challenge.dificultad }}">
                <option value="" disabled></option>
                <option value="facil" {{ "selected" if challenge.dificultad == "facil" }}>Fácil</option>
                <option value="intermedio" {{ "selected" if challenge.dificultad == "intermedio" }}>Intermedio</option>
                <option value="avanzado" {{ "selected" if challenge.dificultad == "avanzado" }}>Avanzado</option>
                <option value="extremo" {{ "selected" if challenge.dificultad == "extremo" }}>Extremo</option>
            </select>
          </div>
        <div class="input-container">
            <button type="submit" class="save-changes">Modificar reto</button>
        </div>
    </form>
 </div>
{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for("static", filename = "js/content/challenge.js") }}"></script>
{% endblock %}